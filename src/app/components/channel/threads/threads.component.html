<div class="thread-content">
  <div class="header">
    <div class="align-center">
      <h2>Thread</h2>
      <div class="channelName-tag align-center">
        <mat-icon>tag</mat-icon>
        <span>Entwicklerteam</span>
      </div>
    </div>
    <mat-icon (click)="closeThread()" class="close-btn">close</mat-icon>
  </div>

  <div *ngFor="let message of currentMessage" class="message-content">
    <div class="messages-container">
      <div
        class="flex-end"
        [ngStyle]="{
          'align-items':
            message.messagedAuthor === authService.userData.displayName
              ? 'flex-end'
              : 'flex-start'
        }"
      >
        <!-- <ng-container>
          <div class="answer-divider">
            <span>{{
              channelService.getFormattedDateFromTimestamp(message.createdDate)
            }}</span>
          </div>
        </ng-container> -->
        <div
          class="messages-main-chat"
          [ngClass]="{
              'row-reverse': message.messagedAuthor === authService.userData.displayName,
              'row': message.messagedAuthor !== authService.userData.displayName,
            }"
        >
          <div>
            <img [src]="message.avatar || 'assets/img/81. Profile.png'" />
          </div>
          <div>
            <div
              [ngClass]="{
                'row-reverse':
                  message.messagedAuthor !== authService.userData.displayName,
                row: message.messagedAuthor === authService.userData.displayName
              }"
              class="author-with-date"
            >
              <span>{{
                channelService.getFormattedTimeFromTimestamp(
                  message.createdDate
                )
              }}</span>
              <h3>{{ message.messagedAuthor }}</h3>
            </div>
            <span
              [ngClass]="{
                'message-right':
                  message.messagedAuthor === authService.userData.displayName,
                'message-left':
                  message.messagedAuthor !== authService.userData.displayName
              }"
              >{{ message.channelMessage }}</span
            >
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="text-editor">
    <textarea
      [(ngModel)]="threadService.message"
      placeholder="Nachricht an #{{
        this.channelService.currentChannel?.channelName
      }}"
    ></textarea>
    <div class="add-elements">
      <mat-icon>add</mat-icon>
      <div class="divider"></div>
      <mat-icon>sentiment_satisfied</mat-icon>
      <mat-icon>alternate_email</mat-icon>
    </div>
    <mat-icon class="send-btn">send</mat-icon>
  </div>
</div>
